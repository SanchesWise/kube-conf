–û—Ç–ª–∏—á–Ω–æ! –†–∞–¥, —á—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞.

–ù–∏–∂–µ –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –≤–∞—à–µ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π (Wiki/Confluence/GitLab Readme). –û–Ω–∞ –Ω–∞–ø–∏—Å–∞–Ω–∞ —Ç–∞–∫, —á—Ç–æ–±—ã –ª—é–±–æ–π –∏–Ω–∂–µ–Ω–µ—Ä –º–æ–≥ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–æ–≤—ã–π —Ö–æ—Å—Ç (VM –∏–ª–∏ Bare Metal) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–∞—à–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π `ccsfarm.local`.

---

# üìÑ –ò–ù–°–¢–†–£–ö–¶–ò–Ø: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Ö–æ—Å—Ç–æ–≤ (Linux)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤ –≤–Ω–µ Kubernetes-–∫–ª–∞—Å—Ç–µ—Ä–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —Å–µ—Ä–≤–∏—Å–∞–º (Nexus, GitLab, MinIO) –ø–æ –¥–æ–º–µ–Ω–Ω—ã–º –∏–º–µ–Ω–∞–º `*.ccsfarm.local`.

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Linux —Å—á–∏—Ç–∞–µ—Ç –∑–æ–Ω—É `.local` –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–ª—è Multicast DNS (mDNS/Avahi). –ó–∞–ø—Ä–æ—Å—ã –∫ `ccsfarm.local` –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–ª–∞–≥–∏–Ω–æ–º mDNS –∏ –Ω–µ –¥–æ—Ö–æ–¥—è—Ç –¥–æ DNS-—Å–µ—Ä–≤–µ—Ä–∞, –≤—ã–∑—ã–≤–∞—è –æ—à–∏–±–∫—É —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏–º–µ–Ω, –¥–∞–∂–µ –µ—Å–ª–∏ DNS-—Å–µ—Ä–≤–µ—Ä –ø—Ä–æ–ø–∏—Å–∞–Ω –≤–µ—Ä–Ω–æ.

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
*   **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π DNS (BIND):** `10.10.1.151`
*   **–†–µ–∑–µ—Ä–≤–Ω—ã–π DNS (Gateway):** `10.10.1.1` (–∏–ª–∏ 8.8.8.8)
*   **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –¥–æ–º–µ–Ω:** `ccsfarm.local`
*   **–û–°:** Linux —Å NetworkManager –∏ systemd-resolved (RHEL 8/9, CentOS, Fedora, Ubuntu, Debian).

---

## üõ† –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –®–∞–≥ 1. –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
–£–∑–Ω–∞–µ–º –∏–º—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–æ–±—ã—á–Ω–æ `ens18`, `eth0` –∏–ª–∏ `enp*`).

```bash
nmcli dev status
# –ò—â–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "connected" (–∑–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç)
```

### –®–∞–≥ 2. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º NetworkManager
–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –æ—Ç `root` –∏–ª–∏ —á–µ—Ä–µ–∑ `sudo`. –ó–∞–º–µ–Ω–∏—Ç–µ `ens18` –Ω–∞ –∏–º—è –≤–∞—à–µ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

**–í–∞–∂–Ω–æ:** –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π DNS (`10.10.1.151`) –¥–æ–ª–∂–µ–Ω –∏–¥—Ç–∏ **–ü–ï–†–í–´–ú** –≤ —Å–ø–∏—Å–∫–µ. –ï—Å–ª–∏ –ø–µ—Ä–≤—ã–º –æ—Ç–≤–µ—Ç–∏—Ç —Ä–æ—É—Ç–µ—Ä (–∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∑–Ω–∞–µ—Ç –ø—Ä–æ ccsfarm.local), Linux –Ω–µ —Å—Ç–∞–Ω–µ—Ç –ø–µ—Ä–µ—Å–ø—Ä–∞—à–∏–≤–∞—Ç—å –≤—Ç–æ—Ä–æ–π —Å–µ—Ä–≤–µ—Ä.

```bash
# 1. –ó–∞–¥–∞–µ–º DNS-—Å–µ—Ä–≤–µ—Ä—ã (BIND –ø–µ—Ä–≤—ã–π, Gateway –≤—Ç–æ—Ä–æ–π)
sudo nmcli con mod "ens18" ipv4.dns "10.10.1.151 10.10.1.1"

# 2. –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º DNS –æ—Ç DHCP (—á—Ç–æ–±—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ —Å–ª–µ—Ç–µ–ª–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ)
sudo nmcli con mod "ens18" ipv4.ignore-auto-dns yes

# 3. [–ö–†–ò–¢–ò–ß–ù–û] –ó–∞–¥–∞–µ–º –¥–æ–º–µ–Ω –ø–æ–∏—Å–∫–∞
# –≠—Ç–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã systemd-resolved –¥–ª—è –∑–æ–Ω—ã .local —Å Multicast –Ω–∞ Unicast DNS
sudo nmcli con mod "ens18" ipv4.dns-search "ccsfarm.local"

# 4. –ü—Ä–∏–º–µ–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (—Å–µ—Ç—å –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ –¥–æ–ª—é —Å–µ–∫—É–Ω–¥—ã)
sudo nmcli con up "ens18"
```

### –®–∞–≥ 3. –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –Ω—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ systemd-resolved –ø—Ä–∏–Ω—è–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.

1. **–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å —Ä–µ–∑–æ–ª–≤–µ—Ä–∞:**
   ```bash
   resolvectl status
   ```
   *–ß—Ç–æ –∏—Å–∫–∞—Ç—å:* –í —Å–µ–∫—Ü–∏–∏ –≤–∞—à–µ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (Link 2) –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è —Å—Ç—Ä–æ–∫–∞:
   > `DNS Domain: ccsfarm.local`
   
   –ï—Å–ª–∏ –ø–æ–ª–µ `DNS Domain` –ø—É—Å—Ç–æ–µ –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ `~.` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–ª–∞—Å—å.

2. **–ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–∏–Ω–≥:**
   ```bash
   ping nexus.ccsfarm.local
   # –î–æ–ª–∂–µ–Ω —Ä–µ–∑–æ–ª–≤–∏—Ç—å—Å—è –≤ IP Ingress-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 10.10.2.111)
   ```

---

## üß† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ (–ü–æ—á–µ–º—É —ç—Ç–æ –Ω—É–∂–Ω–æ)

–í Linux –∑–∞ –ø–æ—Ä—è–¥–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏–º–µ–Ω –æ—Ç–≤–µ—á–∞–µ—Ç —Ñ–∞–π–ª `/etc/nsswitch.conf`. –û–±—ã—á–Ω–æ —Å—Ç—Ä–æ–∫–∞ `hosts` –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

```text
hosts: files myhostname mdns4_minimal [NOTFOUND=return] resolve [!UNAVAIL=return] dns
```

1.  –ö–æ–≥–¥–∞ –≤—ã –ø–∏–Ω–≥—É–µ—Ç–µ `host.local`, —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–æ–¥—É–ª—å `mdns4_minimal` (Multicast DNS).
2.  –û–Ω –ø—ã—Ç–∞–µ—Ç—Å—è –Ω–∞–π—Ç–∏ —Ö–æ—Å—Ç —à–∏—Ä–æ–∫–æ–≤–µ—â–∞—Ç–µ–ª—å–Ω—ã–º –∑–∞–ø—Ä–æ—Å–æ–º (–∫–∞–∫ –ø—Ä–∏–Ω—Ç–µ—Ä).
3.  –ï—Å–ª–∏ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç, —Ñ–ª–∞–≥ `[NOTFOUND=return]` **–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç** –¥–∞–ª—å–Ω–µ–π—à–∏–π –ø–æ–∏—Å–∫. –ó–∞–ø—Ä–æ—Å –Ω–µ –¥–æ—Ö–æ–¥–∏—Ç –¥–æ DNS-—Å–µ—Ä–≤–µ—Ä–∞.

–ö–æ–º–∞–Ω–¥–∞ `ipv4.dns-search "ccsfarm.local"` —Å–æ–æ–±—â–∞–µ—Ç –¥–µ–º–æ–Ω—É `systemd-resolved`, —á—Ç–æ —ç—Ç–æ—Ç –¥–æ–º–µ–Ω —è–≤–ª—è–µ—Ç—Å—è "Search Domain". –î–µ–º–æ–Ω –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ —ç—Ç–æ–π –∑–æ–Ω–µ –∏ –Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –Ω–∞–ø—Ä—è–º—É—é –≤ DNS-—Å–µ—Ä–≤–µ—Ä (Unicast), –º–∏–Ω—É—è –º–µ—Ö–∞–Ω–∏–∑–º mDNS.

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ (Legacy / –ë–µ–∑ NetworkManager)
–ï—Å–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –Ω–µ—Ç NetworkManager, –º–æ–∂–Ω–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å `/etc/nsswitch.conf`, —É–±—Ä–∞–≤ —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ mDNS:

```bash
# –£–¥–∞–ª–∏—Ç—å "mdns4_minimal [NOTFOUND=return]" –∏–∑ —Å—Ç—Ä–æ–∫–∏ hosts
sudo sed -i 's/mdns4_minimal \[NOTFOUND=return\] //g' /etc/nsswitch.conf
```
*–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –æ–Ω –º–µ–Ω–µ–µ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –º–µ–Ω—è–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –û–°, –∞ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.*